-- This file is autogenerated from regen-schema.ts
create table if not exists
  user_portfolio_history_archive (
    balance numeric,
    cash_balance numeric default 0 not null,
    cash_investment_value numeric default 0 not null,
    id bigint primary key generated always as identity not null,
    investment_value numeric,
    loan_total numeric,
    profit numeric,
    spice_balance numeric default 0 not null,
    total_cash_deposits numeric default 0 not null,
    total_deposits numeric,
    ts timestamp without time zone,
    user_id text not null
  );

-- Row Level Security
alter table user_portfolio_history_archive enable row level security;

-- Policies
drop policy if exists "public read" on user_portfolio_history_archive;

create policy "public read" on user_portfolio_history_archive for
select
  using (true);
